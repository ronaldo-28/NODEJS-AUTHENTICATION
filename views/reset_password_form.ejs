<!-- views/reset_password_form.ejs -->

<link rel="stylesheet" href="/css/form.css" />
<!-- Assuming you have a CSS file for forms -->

<div class="form-container">
  <h1>Reset Your Password</h1>
  <p>Enter your new password below.</p>

  <!-- Display Flash Messages -->
  <% if (locals.flash && locals.flash.success && locals.flash.success.length >
  0) { %>
  <div class="flash-message success"><%= locals.flash.success %></div>
  <% } %> <% if (locals.flash && locals.flash.error && locals.flash.error.length
  > 0) { %>
  <div class="flash-message error"><%= locals.flash.error %></div>
  <% } %>

  <!-- IMPORTANT: The action includes the token passed from the controller -->
  <form action="/reset-password/<%= token %>" method="POST">
    <div class="form-group">
      <label for="password">New Password:</label>
      <input
        type="password"
        id="password"
        name="password"
        required
        minlength="6"
        placeholder="Enter new password (min 6 chars)"
      />
    </div>

    <div class="form-group">
      <label for="confirm_password">Confirm New Password:</label>
      <input
        type="password"
        id="confirm_password"
        name="confirm_password"
        required
        minlength="6"
        placeholder="Confirm new password"
      />
    </div>

    <button type="submit" class="btn">Reset Password</button>
  </form>

  <div class="form-links">
    <a href="/login">Back to Login</a>
    <!-- Optional: Link back to login -->
  </div>
</div>
